@tailwind base;
@tailwind components;
@tailwind utilities;

@property --rotate {
  syntax: '<number>';
  inherits: true;
  initial-value: 0;
}

@property --delayed-rotate {
  syntax: '<number>';
  inherits: true;
  initial-value: 0;
}

@keyframes scrollAnim {
  to {
    --rotate: 1;
    --delayed-rotate: 1;
  }
}

:root {
  --circle-size: 50vmin;
  --spacing: 3vmin;
  --font-size: 7vmin;
  --ease-speed: 50ms;
}

body {
  animation: scrollAnim linear;
  animation-timeline: scroll(nearest block);
  background: #ffffff;
  isolation: isolate;
}

.animated-circle-container {
  position: relative;
  height: 300px;
  width: 100%;
  padding-top: 160px;
  padding-left: 60px;
  z-index: 40;
}

.circle-text {
  position: relative;
  left: 40px;
  top: 0;
  transform: none;
  display: block;
  width: var(--circle-size);
  height: var(--circle-size);
  margin: 0;
  padding: 0;
  list-style: none;
  border-radius: 50%;
  /* Provide ring rotation variable without transforming the container (to avoid stacking context) */
  --ring-rotate: calc(var(--rotate) * 360deg);
}

.circle-text li {
  position: absolute;
  top: 50%;
  left: 50%;
  line-height: 0;
  transform-origin: 0 0;
  white-space: nowrap;
  font-family: 'Instrument Serif', serif;
  font-size: var(--font-size);
  color: inherit;
}


.circle-text li:nth-child(1) { rotate: calc(18deg + var(--ring-rotate)); }
.circle-text li:nth-child(2) { rotate: calc(36deg + var(--ring-rotate)); }
.circle-text li:nth-child(3) { rotate: calc(54deg + var(--ring-rotate)); }
.circle-text li:nth-child(4) { rotate: calc(72deg + var(--ring-rotate)); }
.circle-text li:nth-child(5) { rotate: calc(90deg + var(--ring-rotate)); }
.circle-text li:nth-child(6) { rotate: calc(108deg + var(--ring-rotate)); }
.circle-text li:nth-child(7) { rotate: calc(126deg + var(--ring-rotate)); }
.circle-text li:nth-child(8) { rotate: calc(144deg + var(--ring-rotate)); }
.circle-text li:nth-child(9) { rotate: calc(162deg + var(--ring-rotate)); }
.circle-text li:nth-child(10) { rotate: calc(180deg + var(--ring-rotate)); }
.circle-text li:nth-child(11) { rotate: calc(198deg + var(--ring-rotate)); }
.circle-text li:nth-child(12) { rotate: calc(216deg + var(--ring-rotate)); }
.circle-text li:nth-child(13) { rotate: calc(234deg + var(--ring-rotate)); }
.circle-text li:nth-child(14) { rotate: calc(252deg + var(--ring-rotate)); }
.circle-text li:nth-child(15) { rotate: calc(270deg + var(--ring-rotate)); }
.circle-text li:nth-child(16) { rotate: calc(288deg + var(--ring-rotate)); }
.circle-text li:nth-child(17) { rotate: calc(306deg + var(--ring-rotate)); }
.circle-text li:nth-child(18) { rotate: calc(324deg + var(--ring-rotate)); }
.circle-text li:nth-child(19) { rotate: calc(342deg + var(--ring-rotate)); }
.circle-text li:nth-child(20) { rotate: calc(360deg + var(--ring-rotate)); }

.circle-text li span {
  --rotate-velocity: calc(var(--rotate) - var(--delayed-rotate));
  --rotate-spacing: calc(var(--spacing) * -4 * var(--rotate-velocity));
  --x: calc(var(--circle-size) / 2 + var(--rotate-spacing));
  --y: calc(10px * var(--rotate-velocity));
  --r: calc(90deg * var(--rotate-velocity));
  display: inline-block;
  transform: translate(var(--x), var(--y)) rotate(var(--r));
  color: white;
  mix-blend-mode: difference;
  filter: contrast(1000%) grayscale(100%);
}

.circle-text li span:nth-child(1) {
  --y: calc((1 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 0) ease-out;
}

.circle-text li span:nth-child(2) {
  --y: calc((2 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 1) ease-out;
}

.circle-text li span:nth-child(3) {
  --y: calc((3 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 2) ease-out;
}

.circle-text li span:nth-child(4) {
  --y: calc((4 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 3) ease-out;
}

.circle-text li span:nth-child(5) {
  --y: calc((5 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 4) ease-out;
}

.circle-text li span:nth-child(6) {
  --y: calc((6 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 5) ease-out;
}

.circle-text li span:nth-child(7) {
  --y: calc((7 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 6) ease-out;
}

.circle-text li span:nth-child(8) {
  --y: calc((8 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 7) ease-out;
}

.circle-text li span:nth-child(9) {
  --y: calc((9 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 8) ease-out;
}

.circle-text li span:nth-child(10) {
  --y: calc((10 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 9) ease-out;
}

.circle-text li span:nth-child(11) {
  --y: calc((11 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 10) ease-out;
}

.circle-text li span:nth-child(12) {
  --y: calc((12 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 11) ease-out;
}

.circle-text li span:nth-child(13) {
  --y: calc((13 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 12) ease-out;
}

.circle-text li span:nth-child(14) {
  --y: calc((14 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 13) ease-out;
}

.circle-text li span:nth-child(15) {
  --y: calc((15 * -20px) * var(--rotate-velocity));
  transform-origin: var(--x) 0;
  transition: --delayed-rotate calc(var(--ease-speed) * 14) ease-out;
}

/* Journeys styles */
.journeys .journey-row {
  position: relative;
  background: transparent;
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 12px;
}

.journeys .journey-row::before {
  content: none;
}

.journeys .journey-row:hover {
  background: rgba(0,0,0,0.03);
}

.journeys .journey-row.is-active {
  border-color: rgba(0,0,0,0.16);
  background: rgba(0,0,0,0.05);
}

.journeys .step-chip {
  padding: 0;
  border-radius: 0;
  background: transparent;
  color: rgba(0,0,0,0.65);
  transition: color 200ms ease;
}

.journeys .journey-row:hover .step-chip {
  color: rgba(0,0,0,0.8);
}

.journeys .journey-row.is-active .step-chip {
  color: rgba(0,0,0,0.95);
}

.journeys .shimmer-indicator {
  display: none;
}

.journeys .journey-row.is-active .shimmer-indicator,
.journeys .journey-row:hover .shimmer-indicator { }